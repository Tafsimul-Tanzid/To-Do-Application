{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/digitalpylot/Documents/tanzid/TODO/frontend/lib/api/client.ts"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:9000';\n\nexport const apiClient = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Add auth token to requests\napiClient.interceptors.request.use(\n  (config) => {\n    if (typeof window !== 'undefined') {\n      const token = localStorage.getItem('token');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    }\n    return config;\n  },\n  (error) => Promise.reject(error),\n);\n\n// Handle 401 errors\napiClient.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      if (typeof window !== 'undefined') {\n        localStorage.removeItem('token');\n        window.location.href = '/login';\n      }\n    }\n    return Promise.reject(error);\n  },\n);\n"],"names":[],"mappings":";;;;AAEgB;AAFhB;;AAEA,MAAM,UAAU,6DAAmC;AAE5C,MAAM,YAAY,mJAAK,CAAC,MAAM,CAAC;IACpC,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,6BAA6B;AAC7B,UAAU,YAAY,CAAC,OAAO,CAAC,GAAG,CAChC,CAAC;IACC,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG5B,oBAAoB;AACpB,UAAU,YAAY,CAAC,QAAQ,CAAC,GAAG,CACjC,CAAC,WAAa,UACd,CAAC;IACC,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;QAClC,wCAAmC;YACjC,aAAa,UAAU,CAAC;YACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB;IACF;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB"}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file:///Users/digitalpylot/Documents/tanzid/TODO/frontend/lib/api/auth.ts"],"sourcesContent":["import { apiClient } from './client';\n\nexport interface LoginDto {\n  email: string;\n  password: string;\n}\n\nexport interface RegisterDto {\n  email: string;\n  password: string;\n}\n\nexport interface AuthResponse {\n  access_token: string;\n}\n\nexport const authApi = {\n  login: async (data: LoginDto): Promise<AuthResponse> => {\n    const response = await apiClient.post<AuthResponse>('/auth/login', data);\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('token', response.data.access_token);\n    }\n    return response.data;\n  },\n\n  register: async (data: RegisterDto): Promise<void> => {\n    await apiClient.post('/auth/register', data);\n  },\n\n  logout: () => {\n    if (typeof window !== 'undefined') {\n      localStorage.removeItem('token');\n    }\n  },\n};\n"],"names":[],"mappings":";;;;AAAA;;AAgBO,MAAM,UAAU;IACrB,OAAO,OAAO;QACZ,MAAM,WAAW,MAAM,oIAAS,CAAC,IAAI,CAAe,eAAe;QACnE,wCAAmC;YACjC,aAAa,OAAO,CAAC,SAAS,SAAS,IAAI,CAAC,YAAY;QAC1D;QACA,OAAO,SAAS,IAAI;IACtB;IAEA,UAAU,OAAO;QACf,MAAM,oIAAS,CAAC,IAAI,CAAC,kBAAkB;IACzC;IAEA,QAAQ;QACN,wCAAmC;YACjC,aAAa,UAAU,CAAC;QAC1B;IACF;AACF"}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file:///Users/digitalpylot/Documents/tanzid/TODO/frontend/contexts/AuthContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { authApi, LoginDto, RegisterDto } from '@/lib/api/auth';\n\ninterface AuthContextType {\n  isAuthenticated: boolean;\n  isLoading: boolean;\n  login: (data: LoginDto) => Promise<void>;\n  register: (data: RegisterDto) => Promise<void>;\n  logout: () => void;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    // Check auth status on mount\n    const token = localStorage.getItem('token');\n    setIsAuthenticated(!!token);\n    setIsLoading(false);\n  }, []);\n\n  const login = async (data: LoginDto) => {\n    await authApi.login(data);\n    setIsAuthenticated(true);\n  };\n\n  const register = async (data: RegisterDto) => {\n    await authApi.register(data);\n  };\n\n  const logout = () => {\n    authApi.logout();\n    setIsAuthenticated(false);\n  };\n\n  return (\n    <AuthContext.Provider value={{ isAuthenticated, isLoading, login, register, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAaA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IACvD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,IAAA,0KAAS;kCAAC;YACR,6BAA6B;YAC7B,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,mBAAmB,CAAC,CAAC;YACrB,aAAa;QACf;iCAAG,EAAE;IAEL,MAAM,QAAQ,OAAO;QACnB,MAAM,gIAAO,CAAC,KAAK,CAAC;QACpB,mBAAmB;IACrB;IAEA,MAAM,WAAW,OAAO;QACtB,MAAM,gIAAO,CAAC,QAAQ,CAAC;IACzB;IAEA,MAAM,SAAS;QACb,gIAAO,CAAC,MAAM;QACd,mBAAmB;IACrB;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAiB;YAAW;YAAO;YAAU;QAAO;kBAChF;;;;;;AAGP;GA9BgB;KAAA;AAgCT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}}]
}